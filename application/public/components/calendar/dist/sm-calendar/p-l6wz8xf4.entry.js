import{h as t,r as e,c as n,H as r,g as s}from"./p-cdc39c3d.js";import{m as i,a,c as o}from"./p-962747dc.js";const c={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},l={day:"day",week:"week",month:"month"},h={day:"Day",week:"Week",month:"Month"},u={DATE:"YYYY-MM-DD",TIME:"HH:mm:ss",DATE_TIME:"YYYY-MM-DD HH:mm:ss",DISPLAY_TIME:"HH:mm"},d=/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/,v=new class{render(e){return t("div",{class:"header-container"},t("div",{class:"header-section"},this.renderViewNavigation(e)),t("div",{class:"header-section"},t("div",{class:"context-date-label"},e.viewRenderer.getHeaderText(e))),t("div",{class:"header-section"},this.renderViewButton(e)))}renderViewRange(e){return t("div",{class:"view-range"},e.viewRenderer.getHeaderText(e))}renderViewNavigation(e){return t("div",{class:"view-navigation"},t("div",{class:"nav-item"},t("div",{class:"btn-list"},t("div",{class:"btn-list-item"},t("div",{class:"left-triangle",onClick:()=>{e.viewRenderer.prev(e)}})),t("div",{class:"btn-list-item"},t("div",{class:"today-button",onClick:()=>{e.contextDate=i().startOf("day").format(u.DATE)}},"Today")),t("div",{class:"btn-list-item"},t("div",{class:"right-triangle",onClick:()=>{e.viewRenderer.next(e)}})))),t("div",{class:"nav-item"},t("div",{class:"date-picker"},t("sm-date-picker",{onDateSelected:t=>{e.contextMoment.format(u.DATE)!==t.detail&&(e.contextDate=t.detail)},label:e.viewRenderer.getDatePickerLabel(e),theme:e.theme,date:e.contextMoment.format(u.DATE),"week-start-day":e.weekStartDay}))))}renderViewButton(e){const{availableViews:n}=e,r=[];return n.forEach(n=>{const s=["view-name"];n===e.view&&s.push("active"),r.push(t("div",{class:s.join(" "),onClick:()=>{e.view=n}},h[n]))}),t("div",{class:"view-list"},r)}};class f{eventContainer(e){return t("div",{class:"event-container"},t("div",{class:"event-title"},e.title))}}const m=new f;class g{constructor(){this.templateRenderer=m}render(e){return t("div",{class:["view-container",e.view].join(" ")},this.renderView(e))}getDatesInViewRange(t,e){const n=[],r=t.clone();for(;r.valueOf()<e.valueOf();)n.push(r.clone()),r.add(1,"days");return n}getEventsInViewRange(t){const e=t.eventStore.getEventsBetween(t.startMoment,t.endMoment);return this.processEventsInViewRange(t,e)}processEventsInViewRange(t,e){return e}chopEvents(t,e){e.forEach(e=>{e.startMoment.isBefore(t.startMoment)&&(e.startMoment=t.startMoment.clone()),e.endMoment.isAfter(t.endMoment)&&(e.endMoment=t.endMoment.clone()),e.startMoment.isSame(e.endMoment,"day")||(e.isMultiDay=!0)})}renderView(t){}getHeaderText(e){return t("div",null,e.startMoment.format("DD MMM, YYYY")," - ",e.endMoment.format("DD MMM, YYYY"))}getDatePickerLabel(t){return t.startMoment.format("DD MMM, YYYY")+" - "+t.endMoment.format("DD MMM, YYYY")}}function p(t,e="seconds"){return t.diff(a(t).startOf("day"),e)}function w(t,e,n="seconds"){return Math.abs(t.diff(e,n))}function b(t,e){return t&&0!=t.length?(new x)._getBestFitPosition(t,e):{}}function y(t,e){if(!t)return{};let n=function(t,e){return t.map(t=>{let n={};return e?(n.start=w(e,t.startMoment).startOf("day"),n.end=w(e,t.endMoment).endOf("day")):(n.start=p(t.startMoment),n.end=p(t.endMoment)),n.data=t,t.startSec=n.start,t.endSec=n.end,n})}(t,e);return(new x)._getOverlaps(n)}class M{constructor(t,e){this.start=t,this.end=e}}class k{constructor(t){this.interval=new M(t.start,t.end),this.data=t.data,this.max=t.max?t.max:0,this.left=null,this.right=null,this.position=t.position?t.position:0}}class x{constructor(){this.root=null}insert(t){return this._insert(this.root,t)}_insert(t,e){return t?(e.start<t.interval.start?t.left=this._insert(t.left,e):t.right=this._insert(t.right,e),t.max<e.end&&(t.max=e.end),t):new k(e)}_isOverlapping(t,e){return t.start<e.end&&e.start<t.end||t.start==e.start||t.end==e.end}overlapSearch(t){return this._overlapSearch(this.root,t)}_overlapSearch(t,e){return t?this._isOverlapping(t.interval,e)?t:this._overlapSearch(t.left&&t.left.max>=e.start?t.left:t.right,e):null}_getOverlaps(t){if(!t||0===t.length)return{};t.sort((t,e)=>t.start-e.start),this.root=this.insert(t[0]);let e=[],n=new Set;n.add(t[0].data);for(let r=1;r<t.length;r++){let s=this.overlapSearch(new M(t[r].start,t[r].end));s?(n.add(t[r].data),n.add(s.data)):(e.push([...n]),this.root=null,n.clear(),n.add(t[r].data)),this.root=this.insert(t[r])}return n.size>0&&e.push([...n]),e}_getBestFitPosition(t,e){let n=0,r={events:[]},s=[];t[0].startPosition=0,this.root=this._insertFit(s,this.root,new k({data:t[0],start:t[0].startSec,end:t[0].endSec-1,max:t[0].endSec-1})),r.events.push(t[0]);for(let i=1;i<t.length;i++)this._insertFit(s,this.root,new k({data:t[i],start:t[i].startSec,end:t[i].endSec-1,max:t[i].endSec-1})),r.events.push(t[i]),n<t[i].startPosition&&(n=t[i].startPosition);return r.divisor=n+1,e&&this.expandPositions(this.root,s),r}_insertFit(t,e,n){return e?(e.max<n.interval.start?(e.max=n.interval.end,n.position=e.position,e.left=this._insertFit(t,e.left,n)):(n.position=e.position+1,e.right=this._insertFit(t,e.right,n)),e):(n.data.startPosition=n.data.endPosition=n.position,t[n.position]||(t[n.position]=n),n)}expandPositions(t,e){t&&(this._expandPositions(t,e),this.expandPositions(t.left,e),this.expandPositions(t.right,e))}_expandPositions(t,e){let n=e[t.data.startPosition+1];for(;n&&!this._isOverlapping(t.interval,n.interval);)n.left?n=n.left:(t.data.endPosition+=1,n=e[t.data.endPosition+1])}}class Y extends f{constructor(){super()}eventContainer(e){const n=e.startMoment.format(u.DISPLAY_TIME),r=e.endMoment.format(u.DISPLAY_TIME);return t("div",{class:"event-container"},t("div",{class:"event-title"},t("span",null,n," - ",r),t("br",null),e.title),t("div",{class:"event-description"},e.description))}}const D=new Y;class E extends g{constructor(){super(),this.numberOfCols=1,this.leftScaleWidth=100,this.timeStepDuration=60,this.timeStepHeight=40,this.timeStepFormat="HH:mm",this.viewHeaderHeight=50,this.scaleSizeInSecs=86400,this.templateRenderer=D}next(t){t.contextDate=t.contextMoment.clone().add(this.numberOfCols,"day").format(u.DATE)}prev(t){t.contextDate=t.contextMoment.clone().add(0-this.numberOfCols,"day").format(u.DATE)}calculateViewRange(t,e){return{startMoment:t.clone().startOf("day"),endMoment:t.clone().endOf("day")}}renderView(e){return e.stepMoments=this.getSteps(),t("div",{class:["view-wrapper"].join(" "),style:{"--left-scale-width":this.leftScaleWidth+"px","--time-step-height":this.timeStepHeight+"px","--view-header-height":this.viewHeaderHeight+"px"}},this.renderViewHeader(e),this.renderViewBody(e))}renderViewBody(e){return t("div",{class:["view-body"].join(" ")},t("div",{class:"view-body-relative"},this.renderLeftScale(e),this.renderDrawingArea(e)))}renderDrawingArea(e){return t("div",{class:"drawing-area-container"},t("div",{class:"drawing-area-container-relative"},this.renderGrid(e),this.renderEvents(e)))}renderEvents(e){const n=[];return this.getEvents(e).forEach(t=>{n.push(this.getEvent(e,t))}),t("div",{class:"events-wrapper"},n)}getEvents(t){const e=[],n=Math.trunc(200/this.numberOfCols),r=this.getEventsColumnMap(t,t.viewRange.events);for(let s in r){const i=y(r[s],null);for(const r in i){const a=i[r];if(!a||0===a.length)continue;let o=b(a,!0);o.divisor>n&&(o.divisor=n,o.events=o.events.filter((function(t){return t.startPosition<n&&t.endPosition<=n}))),e.push(...this.processStyleAttributes(t,o,s))}}return e}getEvent(e,n){const r=Object.assign(Object.assign({},n.style),{background:n.bg_color,color:n.text_color,"border-color":n.borderColor});return t("div",{class:"event",style:Object.assign({},r),onClick:()=>{e.eventClick.emit({event:n.rawEvent})}},this.templateRenderer.eventContainer(n))}processStyleAttributes(t,e,n){let r=e.events;const{numberOfCols:s}=this,i=this.getPaddings();let a=100/s*n+i.startPadding,o=(100/s-i.startPadding-i.endPadding)/e.divisor;for(let c=0;c<r.length;c++){let t=r[c].startSec;const e=t/this.scaleSizeInSecs*100;let n=(r[c].endSec-t)/this.scaleSizeInSecs*100;e+n>100&&(n=100-e),r[c].style={width:(o>i.spacing?o*(r[c].endPosition-r[c].startPosition+1)-i.spacing:o)+"%",left:a+o*r[c].startPosition+"%",top:e+"%",height:n+"%"}}return r}getPaddings(){return{startPadding:.2,endPadding:1,spacing:.2}}getEventsColumnMap(t,e){const n={};return e.forEach(e=>{const r=e.startMoment.diff(t.startMoment,"days");n[r]||(n[r]=[]),n[r].push(e)}),n}processEventsInViewRange(t,e){return this.chopEvents(t,e),this.chunkEvents(t,e)}chunkEvents(t,e){const n=[];return e.forEach(t=>{if(t.isMultiDay){const e=t.startMoment.clone();for(;!e.isSame(t.endMoment,"day");){const r=t.clone();r.startMoment=e.clone(),r.endMoment=e.clone().endOf("day"),n.push(r),e.endOf("day").add(1,"second")}const r=t.clone();r.startMoment=e.clone(),r.endMoment=t.endMoment.clone(),n.push(r)}else{const e=t.clone();e.startMoment=t.startMoment.clone(),e.endMoment=t.endMoment.clone(),n.push(e)}}),n}renderGrid(e){return t("div",{class:"grid-wrapper"},this.renderGridRows(e))}renderGridRows(e){const n=e.viewRange.dates,r=[];return e.stepMoments.forEach((s,i)=>{const a=[];n.forEach(n=>{a.push(t("div",{class:"item",style:{height:this.timeStepHeight+"px"},onClick:()=>{const t=n.clone().add(this.timeStepDuration*i,"minutes").format("YYYY-MM-DD HH:mm:ss"),r=n.clone().add(this.timeStepDuration*i,"minutes").add(this.timeStepDuration,"minutes").format("YYYY-MM-DD HH:mm:ss");e.cellClick.emit({view:e.view,from:t,to:r})}}))}),r.push(t("div",{class:"row"},a))}),r}getSteps(){const t=1440/this.timeStepDuration,e=a().startOf("day"),n=[];for(let r=0;r<t;r++)n.push(e.clone()),e.add(this.timeStepDuration,"minutes");return n}renderLeftScale(e){const n=[];return e.stepMoments.forEach((e,r)=>{n.push(t("div",{class:"step",style:{height:this.timeStepHeight+1+"px"}},t("div",{class:"step-time"},0===r?"":e.format(this.timeStepFormat))))}),t("div",{class:"left-scale"},t("div",{class:"step-container"},n))}renderViewHeader(e){const n=e.viewRange.dates,{contextMoment:r}=e,s=[];return n.forEach(n=>{const i=["item"];n.isSame(a(),"day")&&i.push("today"),n.isSame(r,"day")&&i.push("context-date"),s.push(t("div",{class:i.join(" ")},t("div",{class:"view-header-column"},t("div",{class:"day-date",onClick:()=>{e.contextDate=n.format(u.DATE),e.view=l.day}},n.format("DD")),t("div",{class:"day-name"},n.format("dddd")))))}),t("div",{class:["view-header"].join(" ")},t("div",{class:"row"},t("div",{class:"empty-left-scale"}),s))}}new E;const C=new class extends Y{constructor(){super()}},O=new class extends E{constructor(){super(),this.numberOfCols=1,this.templateRenderer=C}calculateViewRange(t,e){return{startMoment:t.clone().startOf("day"),endMoment:t.clone().endOf("day")}}getHeaderText(e){return t("div",null,e.contextMoment.format("DD MMMM YYYY"))}getDatePickerLabel(t){return t.contextMoment.format("DD MMM YYYY")}},j=new class extends Y{constructor(){super()}},H=new class extends E{constructor(){super(),this.numberOfCols=7,this.templateRenderer=j}calculateViewRange(t,e){let n=t.clone().startOf("day");return e<=t.day()?n.day(e):n.day(e-7),{startMoment:n,endMoment:a(n).add(this.numberOfCols-1,"days").endOf("day")}}},V=new class extends f{constructor(){super()}eventContainer(e){const n=e.startMoment.format(u.DISPLAY_TIME),r=e.endMoment.format(u.DISPLAY_TIME);return t("div",{class:"event-container"},t("div",{class:"event-title"},t("span",null,n," - ",r),": ",e.title))}};var S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},A=o((function(t){var e=Array.prototype.concat,n=Array.prototype.slice,r=t.exports=function(t){for(var r,s=[],i=0,a=t.length;i<a;i++){var o=t[i];(r=o)&&"string"!=typeof r&&(r instanceof Array||Array.isArray(r)||r.length>=0&&(r.splice instanceof Function||Object.getOwnPropertyDescriptor(r,r.length-1)&&"String"!==r.constructor.name))?s=e.call(s,n.call(o)):s.push(o)}return s};r.wrap=function(t){return function(){return t(r(arguments))}}})),T=o((function(t){var e={};for(var n in S)S.hasOwnProperty(n)&&(e[S[n]]=n);var r=t.exports={to:{},get:{}};function s(t,e,n){return Math.min(Math.max(e,t),n)}function i(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}r.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=r.get.hsl(t),n="hsl";break;case"hwb":e=r.get.hwb(t),n="hwb";break;default:e=r.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},r.get.rgb=function(t){if(!t)return null;var e,n,r,i=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=e[2],e=e[1],n=0;n<3;n++){var a=2*n;i[n]=parseInt(e.slice(a,a+2),16)}r&&(i[3]=Math.round(parseInt(r,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(r=(e=e[1])[3],n=0;n<3;n++)i[n]=parseInt(e[n]+e[n],16);r&&(i[3]=Math.round(parseInt(r+r,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=parseInt(e[n+1],0);e[4]&&(i[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(i=S[e[1]])?(i[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(i[3]=parseFloat(e[4]))}for(n=0;n<3;n++)i[n]=s(i[n],0,255);return i[3]=s(i[3],0,1),i},r.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,s(parseFloat(e[2]),0,100),s(parseFloat(e[3]),0,100),s(isNaN(n)?1:n,0,1)]}return null},r.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,s(parseFloat(e[2]),0,100),s(parseFloat(e[3]),0,100),s(isNaN(n)?1:n,0,1)]}return null},r.to.hex=function(){var t=A(arguments);return"#"+i(t[0])+i(t[1])+i(t[2])+(t[3]<1?i(Math.round(255*t[3])):"")},r.to.rgb=function(){var t=A(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},r.to.rgb.percent=function(){var t=A(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},r.to.hsl=function(){var t=A(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},r.to.hwb=function(){var t=A(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},r.to.keyword=function(t){return e[t.slice(0,3)]}})),_=o((function(t){var e={};for(var n in S)S.hasOwnProperty(n)&&(e[S[n]]=n);var r=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in r)if(r.hasOwnProperty(s)){if(!("channels"in r[s]))throw new Error("missing channels property: "+s);if(!("labels"in r[s]))throw new Error("missing channel labels property: "+s);if(r[s].labels.length!==r[s].channels)throw new Error("channel and label counts mismatch: "+s);var i=r[s].channels,a=r[s].labels;delete r[s].channels,delete r[s].labels,Object.defineProperty(r[s],"channels",{value:i}),Object.defineProperty(r[s],"labels",{value:a})}r.rgb.hsl=function(t){var e,n,r=t[0]/255,s=t[1]/255,i=t[2]/255,a=Math.min(r,s,i),o=Math.max(r,s,i),c=o-a;return o===a?e=0:r===o?e=(s-i)/c:s===o?e=2+(i-r)/c:i===o&&(e=4+(r-s)/c),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+o)/2,[e,100*(o===a?0:n<=.5?c/(o+a):c/(2-o-a)),100*n]},r.rgb.hsv=function(t){var e,n,r,s,i,a=t[0]/255,o=t[1]/255,c=t[2]/255,l=Math.max(a,o,c),h=l-Math.min(a,o,c),u=function(t){return(l-t)/6/h+.5};return 0===h?s=i=0:(i=h/l,e=u(a),n=u(o),r=u(c),a===l?s=r-n:o===l?s=1/3+e-r:c===l&&(s=2/3+n-e),s<0?s+=1:s>1&&(s-=1)),[360*s,100*i,100*l]},r.rgb.hwb=function(t){var e=t[0],n=t[1],s=t[2];return[r.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(n,s))*100,100*(s=1-1/255*Math.max(e,Math.max(n,s)))]},r.rgb.cmyk=function(t){var e,n=t[0]/255,r=t[1]/255,s=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-r,1-s)))/(1-e)||0),100*((1-r-e)/(1-e)||0),100*((1-s-e)/(1-e)||0),100*e]},r.rgb.keyword=function(t){var n=e[t];if(n)return n;var r,s,i,a=1/0;for(var o in S)if(S.hasOwnProperty(o)){var c=(s=t,i=S[o],Math.pow(s[0]-i[0],2)+Math.pow(s[1]-i[1],2)+Math.pow(s[2]-i[2],2));c<a&&(a=c,r=o)}return r},r.keyword.rgb=function(t){return S[t]},r.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},r.rgb.lab=function(t){var e=r.rgb.xyz(t),n=e[0],s=e[1],i=e[2];return s/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(s=s>.008856?Math.pow(s,1/3):7.787*s+16/116)-16,500*(n-s),200*(s-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},r.hsl.rgb=function(t){var e,n,r,s,i,a=t[0]/360,o=t[1]/100,c=t[2]/100;if(0===o)return[i=255*c,i,i];e=2*c-(n=c<.5?c*(1+o):c+o-c*o),s=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,s[l]=255*(i=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e);return s},r.hsl.hsv=function(t){var e=t[0],n=t[1]/100,r=t[2]/100,s=n,i=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,s*=i<=1?i:2-i,[e,100*(0===r?2*s/(i+s):2*n/(r+n)),(r+n)/2*100]},r.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,s=Math.floor(e)%6,i=e-Math.floor(e),a=255*r*(1-n),o=255*r*(1-n*i),c=255*r*(1-n*(1-i));switch(r*=255,s){case 0:return[r,c,a];case 1:return[o,r,a];case 2:return[a,r,c];case 3:return[a,o,r];case 4:return[c,a,r];case 5:return[r,a,o]}},r.hsv.hsl=function(t){var e,n,r,s=t[0],i=t[1]/100,a=t[2]/100,o=Math.max(a,.01);return r=(2-i)*a,n=i*o,[s,100*(n=(n/=(e=(2-i)*o)<=1?e:2-e)||0),100*(r/=2)]},r.hwb.rgb=function(t){var e,n,r,s,i,a,o,c=t[0]/360,l=t[1]/100,h=t[2]/100,u=l+h;switch(u>1&&(l/=u,h/=u),r=6*c-(e=Math.floor(6*c)),0!=(1&e)&&(r=1-r),s=l+r*((n=1-h)-l),e){default:case 6:case 0:i=n,a=s,o=l;break;case 1:i=s,a=n,o=l;break;case 2:i=l,a=n,o=s;break;case 3:i=l,a=s,o=n;break;case 4:i=s,a=l,o=n;break;case 5:i=n,a=l,o=s}return[255*i,255*a,255*o]},r.cmyk.rgb=function(t){var e=t[1]/100,n=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-r)+r)),255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]},r.xyz.rgb=function(t){var e,n,r,s=t[0]/100,i=t[1]/100,a=t[2]/100;return n=-.9689*s+1.8758*i+.0415*a,r=.0557*s+-.204*i+1.057*a,e=(e=3.2406*s+-1.5372*i+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},r.xyz.lab=function(t){var e=t[0],n=t[1],r=t[2];return n/=100,r/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},r.lab.xyz=function(t){var e,n,r;e=t[1]/500+(n=(t[0]+16)/116),r=n-t[2]/200;var s=Math.pow(n,3),i=Math.pow(e,3),a=Math.pow(r,3);return n=s>.008856?s:(n-16/116)/7.787,e=i>.008856?i:(e-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,[e*=95.047,n*=100,r*=108.883]},r.lab.lch=function(t){var e,n=t[0],r=t[1],s=t[2];return(e=360*Math.atan2(s,r)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(r*r+s*s),e]},r.lch.lab=function(t){var e,n=t[1];return e=t[2]/360*2*Math.PI,[t[0],n*Math.cos(e),n*Math.sin(e)]},r.rgb.ansi16=function(t){var e=t[0],n=t[1],s=t[2],i=1 in arguments?arguments[1]:r.rgb.hsv(t)[2];if(0===(i=Math.round(i/50)))return 30;var a=30+(Math.round(s/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===i&&(a+=60),a},r.hsv.ansi16=function(t){return r.rgb.ansi16(r.hsv.rgb(t),t[2])},r.rgb.ansi256=function(t){var e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},r.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},r.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},r.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},r.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map((function(t){return t+t})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},r.rgb.hcg=function(t){var e,n=t[0]/255,r=t[1]/255,s=t[2]/255,i=Math.max(Math.max(n,r),s),a=Math.min(Math.min(n,r),s),o=i-a;return e=o<=0?0:i===n?(r-s)/o%6:i===r?2+(s-n)/o:4+(n-r)/o+4,e/=6,[360*(e%=1),100*o,100*(o<1?a/(1-o):0)]},r.hsl.hcg=function(t){var e,n=t[1]/100,r=t[2]/100,s=0;return(e=r<.5?2*n*r:2*n*(1-r))<1&&(s=(r-.5*e)/(1-e)),[t[0],100*e,100*s]},r.hsv.hcg=function(t){var e=t[2]/100,n=t[1]/100*e,r=0;return n<1&&(r=(e-n)/(1-n)),[t[0],100*n,100*r]},r.hcg.rgb=function(t){var e=t[1]/100,n=t[2]/100;if(0===e)return[255*n,255*n,255*n];var r,s=[0,0,0],i=t[0]/360%1*6,a=i%1,o=1-a;switch(Math.floor(i)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=o,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=o,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=o}return[255*(e*s[0]+(r=(1-e)*n)),255*(e*s[1]+r),255*(e*s[2]+r)]},r.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},r.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},r.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},r.hwb.hcg=function(t){var e=1-t[2]/100,n=e-t[1]/100,r=0;return n<1&&(r=(e-n)/(1-n)),[t[0],100*n,100*r]},r.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},r.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},r.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},r.gray.hsl=r.gray.hsv=function(t){return[0,0,t[0]]},r.gray.hwb=function(t){return[0,100,t[0]]},r.gray.cmyk=function(t){return[0,0,0,t[0]]},r.gray.lab=function(t){return[t[0],0,0]},r.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},r.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}}));function R(t,e){return function(n){return e(t(n))}}function I(t,e){for(var n=[e[t].parent,t],r=_[e[t].parent][t],s=e[t].parent;e[s].parent;)n.unshift(e[s].parent),r=R(_[e[s].parent][s],r),s=e[s].parent;return r.conversion=n,r}var F={};Object.keys(_).forEach((function(t){F[t]={},Object.defineProperty(F[t],"channels",{value:_[t].channels}),Object.defineProperty(F[t],"labels",{value:_[t].labels});var e=function(t){for(var e=function(t){var e=function(){for(var t={},e=Object.keys(_),n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var r=n.pop(),s=Object.keys(_[r]),i=s.length,a=0;a<i;a++){var o=s[a],c=e[o];-1===c.distance&&(c.distance=e[r].distance+1,c.parent=r,n.unshift(o))}return e}(t),n={},r=Object.keys(e),s=r.length,i=0;i<s;i++){var a=r[i];null!==e[a].parent&&(n[a]=I(a,e))}return n}(t);Object.keys(e).forEach((function(n){var r=e[n];F[t][n]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var r=n.length,s=0;s<r;s++)n[s]=Math.round(n[s]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(r),F[t][n].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)}))}));var P=F,L=[].slice,q=["keyword","gray","hex"],N={};Object.keys(P).forEach((function(t){N[L.call(P[t].labels).sort().join("")]=t}));var B={};function z(t,e){if(!(this instanceof z))return new z(t,e);if(e&&e in q&&(e=null),e&&!(e in P))throw new Error("Unknown model: "+e);var n,r;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof z)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var s=T.get(t);if(null===s)throw new Error("Unable to parse color from string: "+t);this.model=s.model,this.color=s.value.slice(0,r=P[this.model].channels),this.valpha="number"==typeof s.value[r]?s.value[r]:1}else if(t.length){this.model=e||"rgb";var i=L.call(t,0,r=P[this.model].channels);this.color=W(i,r),this.valpha="number"==typeof t[r]?t[r]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var a=Object.keys(t);"alpha"in t&&(a.splice(a.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var o=a.sort().join("");if(!(o in N))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=N[o];var c=P[this.model].labels,l=[];for(n=0;n<c.length;n++)l.push(t[c[n]]);this.color=W(l)}if(B[this.model])for(r=P[this.model].channels,n=0;n<r;n++){var h=B[this.model][n];h&&(this.color[n]=h(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function $(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach((function(t){(B[t]||(B[t]=[]))[e]=n})),t=t[0],function(r){var s;return arguments.length?(n&&(r=n(r)),(s=this[t]()).color[e]=r,s):(s=this[t]().color[e],n&&(s=n(s)),s)}}function G(t){return function(e){return Math.max(0,Math.min(t,e))}}function U(t){return Array.isArray(t)?t:[t]}function W(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}z.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in T.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return T.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return T.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=P[this.model].channels,n=P[this.model].labels,r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new z(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new z(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:$("rgb",0,G(255)),green:$("rgb",1,G(255)),blue:$("rgb",2,G(255)),hue:$(["hsl","hsv","hsl","hwb","hcg"],0,(function(t){return(t%360+360)%360})),saturationl:$("hsl",1,G(100)),lightness:$("hsl",2,G(100)),saturationv:$("hsv",1,G(100)),value:$("hsv",2,G(100)),chroma:$("hcg",1,G(100)),gray:$("hcg",2,G(100)),white:$("hwb",1,G(100)),wblack:$("hwb",2,G(100)),cyan:$("cmyk",0,G(100)),magenta:$("cmyk",1,G(100)),yellow:$("cmyk",2,G(100)),black:$("cmyk",3,G(100)),x:$("xyz",0,G(100)),y:$("xyz",1,G(100)),z:$("xyz",2,G(100)),l:$("lab",0,G(100)),a:$("lab",1),b:$("lab",2),keyword:function(t){return arguments.length?new z(t):P[this.model].keyword(this.color)},hex:function(t){return arguments.length?new z(t):T.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return z.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return e.color[0]=n=(n=(n+t)%360)<0?360+n:n,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var n=t.rgb(),r=this.rgb(),s=void 0===e?.5:e,i=2*s-1,a=n.alpha()-r.alpha(),o=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,c=1-o;return z.rgb(o*n.red()+c*r.red(),o*n.green()+c*r.green(),o*n.blue()+c*r.blue(),n.alpha()*s+r.alpha()*(1-s))}},Object.keys(P).forEach((function(t){if(-1===q.indexOf(t)){var e=P[t].channels;z.prototype[t]=function(){if(this.model===t)return new z(this);if(arguments.length)return new z(arguments,t);var n="number"==typeof arguments[e]?e:this.valpha;return new z(U(P[this.model][t].raw(this.color)).concat(n),t)},z[t]=function(n){return"number"==typeof n&&(n=W(L.call(arguments),e)),new z(n,t)}}}));var X=z;function J(t){return X(t).negate()}const K=new class extends g{constructor(){super(),this.viewHeaderHeight=50,this.eventHeight=20,this.eventLeftMargin=5,this.eventTopMargin=5,this.gridCellHeaderHeight=35,this.templateRenderer=V}next(t){t.contextDate=t.contextMoment.clone().add(1,"month").format(u.DATE)}prev(t){t.contextDate=t.contextMoment.clone().add(-1,"month").format(u.DATE)}renderView(e){const n=this.getRowHeights(e);return e.maxEventsInRowMap=n.maxEventsInRowMap,t("div",{class:["view-wrapper"].join(" "),style:{"--view-header-height":this.viewHeaderHeight+"px"}},this.renderViewHeader(e),this.renderViewBody(e))}renderViewBody(e){return t("div",{class:["view-body"].join(" ")},t("div",{class:"view-body-relative"},this.renderDrawingArea(e)))}renderDrawingArea(e){return t("div",{class:"drawing-area-container"},t("div",{class:"drawing-area-container-relative"},this.renderGrid(e),this.renderEvents(e)))}renderEvents(e){const n=[];return this.getEvents(e).renderedEvents.forEach(t=>{n.push(this.getEvent(e,t))}),t("div",{class:"events-wrapper"},n)}getRowHeights(t){const e=[...t.viewRange.events],n={},r=[...t.viewRange.dates].slice(0,7),s=[];r.forEach(t=>{s.push(t.day())});const i=[...t.viewRange.dates],a=[],o=i.length/7;for(let c=0;c<o;c++){const t=i.splice(0,7);a.push({startMS:t[0].valueOf(),endMS:t[6].clone().endOf("day").valueOf()})}return a.forEach((r,i)=>{const a={};n[i]||(n[i]={countInThisRow:0},n[i].height=this.getRowHeight(t,n,i)),e.forEach(e=>{const o=e.startMoment.valueOf(),c=s.indexOf(e.startMoment.day()),l=s.indexOf(e.endMoment.day());if(o>r.startMS&&o<r.endMS){let e=c;for(;e<=l;){const r=i+"_"+e;a[r]?a[r].count=a[r].count+1:a[r]={count:1},a[r].count>n[i].countInThisRow&&(n[i].countInThisRow=a[r].count,n[i].height=this.getRowHeight(t,n,i)),e++}}})}),{maxEventsInRowMap:n}}getEvents(t){const e=[...t.viewRange.events],n=[],r=[...t.viewRange.dates].slice(0,7),s=[];r.forEach(t=>{s.push(t.day())});const i=[...t.viewRange.dates],a=[],o=i.length/7;for(let l=0;l<o;l++){const t=i.splice(0,7);a.push({startMS:t[0].valueOf(),endMS:t[6].clone().endOf("day").valueOf()})}const c={};return console.log(e),e.forEach(e=>{const r=e.startMoment.valueOf(),i={height:this.eventHeight+"px"},o=e.endMoment.diff(e.startMoment,"days");i.width="calc("+(o+1)/7*100+"% - "+2*this.eventLeftMargin+"px)";const l=s.indexOf(e.startMoment.day());i.left="calc("+l/7*100+"% + "+this.eventLeftMargin+"px)";const h=s.indexOf(e.endMoment.day());a.forEach((s,a)=>{if(r>=s.startMS&&r<=s.endMS){let r=l;for(;r<=h;){const t=a+"_"+r;c[t]?c[t].count=c[t].count+1:c[t]={count:0,moreEventsPresent:!1},r++}const s=a+"_"+l;let o=0;for(let e=0;e<a;e++)o+=t.maxEventsInRowMap[e].height;i.top="calc("+o+"px + "+(this.gridCellHeaderHeight+c[s].count*(this.eventHeight+this.eventTopMargin))+"px)",e.style=i,n.push(e)}})}),{renderedEvents:n}}getEvent(e,n){const r=Object.assign(Object.assign({},n.style),{background:n.bg_color,color:n.text_color,"border-color":n.borderColor});return t("div",{class:"event",style:Object.assign({},r),onClick:()=>{e.eventClick.emit({event:n.rawEvent})}},this.templateRenderer.eventContainer(n))}renderGrid(e){return t("div",{class:"grid-wrapper"},this.renderGridRows(e))}renderGridRows(t){const e=[...t.viewRange.dates],n=[],r=e.length/7;for(let s=0;s<r;s++)n.push(this.getRow(t,e.splice(0,7),r,s));return n}getRowHeight(t,e,n){let r=4;return e[n]&&e[n].countInThisRow>4&&(r=e[n].countInThisRow),this.gridCellHeaderHeight+r*(this.eventHeight+this.eventTopMargin)}getRow(e,n,r,s){const i=[],a=this.getRowHeight(e,e.maxEventsInRowMap,s)+"px";return n.forEach(t=>{i.push(this.getCellWrapper(e,t,a))}),t("div",{class:"row",style:{height:a}},i)}getCellWrapper(e,n,r){const s=["item"],{contextMoment:i}=e,o={background:""};return n.isSame(a(),"day")&&(s.push("today"),o.background=(.9,X(e.theme).fade(.9))),n.isSame(i,"day")&&s.push("context-date"),n.isSame(i,"month")||s.push("grey-out"),t("div",{class:s.join(" "),style:o},t("div",{class:"cell-wrapper",style:{height:r},onClick:()=>{e.cellClick.emit({view:e.view,from:n.format("YYYY-MM-DD HH:mm:ss"),to:n.clone().add(1,"day").add(-1,"second").format("YYYY-MM-DD HH:mm:ss")})}},t("div",{class:"cell-header",style:{height:this.gridCellHeaderHeight+"px"}},t("div",{class:"cell-date",onClick:t=>{e.contextDate=n.format(u.DATE),e.view=l.day,t.stopPropagation(),t.preventDefault()}},n.format("DD")))))}renderViewHeader(e){const n=[...e.viewRange.dates].slice(0,7),r=[];return n.forEach(e=>{r.push(t("div",{class:"item"},t("div",{class:["view-header-column"].join(" ")},t("div",{class:"day-name"},e.format("dddd")))))}),t("div",{class:["view-header"].join(" ")},t("div",{class:"row"},r))}calculateViewRange(t,e){return function(t,e){const n=0==(r=e)?6:r-1;var r;return{startMoment:function(t,e){return function(t,e){const n=t.day();return t.day(e<=n?e:e-7),t.startOf("day"),t}(t.clone().startOf("month"),e)}(t,e),endMoment:function(t,e){return function(t,e){const n=t.day();return t.day(e>=n?e:e+7),t.endOf("day"),t}(t.clone().endOf("month"),e)}(t,n)}}(t,e)}getHeaderText(e){return t("div",null,e.contextMoment.format("MMMM YYYY"))}getDatePickerLabel(t){return t.contextMoment.format("MMM YYYY")}processEventsInViewRange(t,e){return this.chopEvents(t,e),this.chunkEvents(t,e)}chunkEvents(t,e){const n=[],r=[...t.viewRange.dates].slice(0,7),s=[];return r.forEach(t=>{s.push(t.day())}),e.forEach(t=>{if(t.isMultiDay){const e=s.indexOf(t.startMoment.day()),r=t.startMoment.clone().add(6-e,"days").endOf("day");if(r.isSameOrAfter(t.endMoment)){const e=t.clone();e.startMoment=t.startMoment.clone(),e.endMoment=t.endMoment.clone(),n.push(e)}else{let e=t.startMoment.clone();for(;r.isBefore(t.endMoment);){const s=t.clone();s.startMoment=e.clone(),s.endMoment=r.clone(),n.push(s),e=s.endMoment.clone().add(1,"day").startOf("day"),r.add(7,"days")}const s=t.clone();s.startMoment=e.clone(),s.endMoment=t.endMoment.clone(),n.push(s)}}else{const e=t.clone();e.startMoment=t.startMoment.clone(),e.endMoment=t.endMoment.clone(),n.push(e)}}),n}},Q=new class{},Z=new class{constructor(){this.templateRenderer=Q}render(t){if(t.showContextPanel)return this.renderContextPanel(t)}renderContextPanel(e){return t("div",{class:"context-panel-container"},t("div",{class:"context-panel-wrapper"},this.renderHeader(e),this.renderBody(e)))}renderHeader(e){return t("div",{class:"context-panel-header"},t("div",{class:"context-date"},e.contextMoment.format("DD MMM, YYYY")))}renderBody(e){return t("div",{class:"context-panel-body"},this.renderContextDateEvents(e))}renderContextDateEvents(e){const n=[],r=this.getContextDateEvents(e);return r.length>0?(r.forEach(r=>{n.push(t("div",{class:"context-panel-event",style:{"border-left-color":r.borderColor},onClick:()=>{e.eventClick.emit({event:r.rawEvent,isContextPanel:!0})}},t("div",{class:"context-panel-event-header"},t("div",{class:"event-time"},r.startMoment.format(u.DISPLAY_TIME)," - ",r.endMoment.format(u.DISPLAY_TIME))),t("div",{class:"context-panel-event-body"},t("div",{class:"event-title"},r.title),t("div",{class:"event-description"},r.description))))}),n):t("div",{class:"no-events"},"No Events")}getContextDateEvents(t){const e=t.contextMoment.clone().startOf("day"),n=t.contextMoment.clone().endOf("day"),r=t.eventStore.getEventsBetween(e.clone(),n.clone());return this.chopEvents(t,r,e,n),[...r]}chopEvents(t,e,n,r){e.forEach(t=>{t.startMoment.isBefore(n)&&(t.startMoment=n.clone()),t.endMoment.isAfter(r)&&(t.endMoment=r.clone())})}},tt=new class{render(t){if(t.selectedEvent)return this.renderEditEventModal(t)}renderEditEventModal(e){return t("div",{class:"event-edit-container"},t("div",{class:"event-edit-wrapper",style:{"border-top-color":e.selectedEvent.borderColor}},this.renderHeader(e),this.renderBody(e),this.renderFooter(e)))}renderFooter(e){return t("div",{class:"event-edit-footer"},t("button",{class:"sm-button",onClick:()=>{e.selectedEvent=null}},"Cancel"),t("button",{class:"sm-button primary flat ok-button",onClick:()=>{e.eventUpdate.emit({event:e.selectedEvent.rawEvent,updatedValues:{start:e.selectedEvent.originalStartMoment.format(u.DATE_TIME),end:e.selectedEvent.originalEndMoment.format(u.DATE_TIME)}}),e.selectedEvent=null}},"Ok"))}renderHeader(e){return t("div",{class:"event-edit-header"},e.selectedEvent.title,t("div",{class:"close",onClick:()=>{e.selectedEvent=null}},"X"))}renderBody(e){return t("div",{class:"event-edit-body"},t("div",{class:"form-row"},t("label",{class:"form-label"},"Start time"),t("div",{class:"form-element date-time-picker"},t("div",{class:"date-picker"},t("sm-date-picker",{onDateSelected:t=>{e.selectedEvent.originalStartMoment=a(t.detail+" "+e.selectedEvent.originalStartMoment.format(u.TIME))},theme:e.theme,date:e.selectedEvent.originalStartMoment.format(u.DATE),"week-start-day":e.weekStartDay})),t("div",{class:"time-picker"},t("sm-time-picker",{onTimeSelected:t=>{e.selectedEvent.originalStartMoment.hour(t.detail.hour),e.selectedEvent.originalStartMoment.minute(t.detail.minute)},hour:e.selectedEvent.originalStartMoment.hour(),minute:e.selectedEvent.originalStartMoment.minute()})))),t("div",{class:"form-row"},t("label",{class:"form-label"},"End time"),t("div",{class:"form-element date-time-picker"},t("div",{class:"date-picker"},t("sm-date-picker",{onDateSelected:t=>{e.selectedEvent.originalEndMoment=a(t.detail+" "+e.selectedEvent.originalEndMoment.format(u.TIME))},theme:e.theme,date:e.selectedEvent.originalEndMoment.format(u.DATE),"week-start-day":e.weekStartDay})),t("div",{class:"time-picker"},t("sm-time-picker",{onTimeSelected:t=>{e.selectedEvent.originalEndMoment.hour(t.detail.hour),e.selectedEvent.originalEndMoment.minute(t.detail.minute)},hour:e.selectedEvent.originalEndMoment.hour(),minute:e.selectedEvent.originalEndMoment.minute()})))))}},et=new class{getViewRenderer(t){return t.view===l.day?O:t.view===l.week?H:t.view===l.month?K:void 0}render(e){e.viewRenderer=this.getViewRenderer(e),e.contextPanel=Z;const{startMoment:n,endMoment:r}=e;return e.viewRange={},e.viewRange.dates=e.viewRenderer.getDatesInViewRange(n,r),e.viewRange.events=e.viewRenderer.getEventsInViewRange(e),t("div",{class:"sm-calendar-container",style:{"--header-height":"50px"}},t("header",{class:"sm-calendar-header"},v.render(e)),t("div",{class:"sm-calendar-body"},e.viewRenderer.render(e),e.contextPanel.render(e)),t("div",{class:"sm-calendar-other"},tt.render(e)))}};class nt{constructor(t,e="GMT"){this.isMultiDay=!1,this.chunks=[],this.id=t.id||this.generateId(),this.title=t.title,this.description=t.description,this.start=t.start,this.end=t.end,this.text_color=t.text_color,this.bg_color=t.bg_color,this.timezone=e,this.rawEvent=t,d.test(this.start)&&(this.startMoment=a.tz(t.start,u.DATE_TIME,!0,e),this.originalStartMoment=this.startMoment.clone()),d.test(this.end)&&(this.endMoment=a.tz(t.end,u.DATE_TIME,!0,e),this.originalEndMoment=this.endMoment.clone()),this.startMoment.isSame(this.endMoment,"day")||(this.isMultiDay=!0),this.bg_color&&!this.text_color&&(this.text_color=J(this.bg_color)),this.text_color&&!this.bg_color&&(this.bg_color=J(this.text_color)),this.bg_color&&(this.borderColor=(.2,X(this.bg_color).darken(.2)))}clone(){return new nt(this.rawEvent,this.timezone)}generateId(){return Math.floor(1e8+9e8*Math.random())+""}}const rt=new class{constructor(){this.events=[]}addEvent(t,e){this.events.push(new nt(t,e))}flush(){this.events=[]}parseEvents(t=[],e){this.flush(),t.forEach(t=>{this.addEvent(t,e)})}getEventsBetween(t,e){const n=[];return this.events.forEach(r=>{r.startMoment.valueOf()>e.valueOf()||r.endMoment.valueOf()<t.valueOf()||r.endMoment.valueOf()===t.valueOf()||n.push(r.clone())}),n.sort((t,e)=>t.startMoment.diff(e.startMoment))}},st=class{constructor(t){e(this,t),this.theme="lightseagreen",this.contextDate=i().format(u.DATE),this.availableViews=[l.day,l.week,l.month],this.view=l.week,this.timezone="GMT",this.weekStartDay="sun",this.events=[],this.showContextPanel=!1,this.contextMoment=i(this.contextDate,u.DATE,this.timezone),this.eventStore=rt,this.eventClick=n(this,"eventClick",7),this.cellClick=n(this,"cellClick",7),this.viewChange=n(this,"viewChange",7),this.eventUpdate=n(this,"eventUpdate",7)}componentWillLoad(){this.eventStore.parseEvents(this.events,this.timezone),this.updateView()}handleContextDateChange(){this.contextMoment=i(this.contextDate,u.DATE,this.timezone),this.updateView()}handleViewChange(){this.updateView()}handleEventsChange(){this.eventStore.parseEvents(this.events,this.timezone)}handleClick(t){const e=t.composedPath?t.composedPath():t.path;let n=!1;for(let r=0;r<e.length;r++)if(e[r].classList&&e[r].classList.contains("sm-date-picker")){n=!0;break}n||this.ref.shadowRoot.querySelectorAll("sm-date-picker").forEach(t=>{t.showPicker=!1})}updateView(){const t=et.getViewRenderer(this).calculateViewRange(this.contextMoment,c[this.weekStartDay]);this.startMoment=t.startMoment,this.endMoment=t.endMoment,this.viewChange.emit({view:this.view,start:this.startMoment.format(u.DATE_TIME),end:this.endMoment.format(u.DATE_TIME)})}render(){return t(r,{style:{"--theme-color":this.theme,"--component-height":this.ref.style.height+""||"calc(100vh - 10px)"},onClick:()=>{}},t("div",{class:"sm-calendar"},et.render(this)))}get ref(){return s(this)}static get watchers(){return{contextDate:["handleContextDateChange"],view:["handleViewChange"],events:["handleEventsChange"]}}static get style(){return"a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,main,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}[hidden]{display:none}body{line-height:1}menu,ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:\"\";content:none}table{border-collapse:collapse;border-spacing:0}.sm-button{padding:8px 10px;-webkit-box-shadow:none;box-shadow:none;border:none;font-size:15px;background:transparent;outline:none}.sm-button.primary{color:var(--theme-color)}.sm-button:hover{cursor:pointer;text-decoration:underline}.sm-button.active{background:var(--theme-color);color:#fff}.sm-button.active:hover{text-decoration:none}.sm-button.flat{background:var(--theme-color);color:#fff}.left-triangle{width:0;height:0;border-top:10px solid transparent;border-bottom:10px solid transparent;border-right:10px solid #444}.left-triangle:hover{cursor:pointer}.right-triangle{width:0;height:0;border-top:10px solid transparent;border-bottom:10px solid transparent;border-left:10px solid #444}.right-triangle:hover{cursor:pointer}.btn-list,.sm-calendar-body{display:-ms-flexbox;display:flex}.sm-calendar-body .view-container{-ms-flex:1;flex:1}.sm-calendar-body .context-panel-container{width:300px;border-left:1px solid #ddd}.sm-calendar-header{width:100%;height:var(--header-height);border-bottom:1px solid #ddd;-webkit-box-shadow:0 0 4px #ddd;box-shadow:0 0 4px #ddd;background:#f2f2f4}.sm-calendar-header .header-container{display:-ms-flexbox;display:flex}.sm-calendar-header .header-container .header-section{-ms-flex:1;flex:1}.sm-calendar-header .header-container .header-section .context-date-label{text-align:center;font-size:18px;font-weight:lighter;padding-top:15px}.sm-calendar-header .header-container .header-section .view-range{text-align:center;font-size:17px;padding-top:14px}.sm-calendar-header .header-container .header-section .view-navigation{margin-top:7px;margin-left:100px}.sm-calendar-header .header-container .header-section .view-navigation .nav-item{display:inline-block;vertical-align:middle;margin-top:6px}.sm-calendar-header .header-container .header-section .view-navigation .nav-item .btn-list{margin-top:-4px}.sm-calendar-header .header-container .header-section .view-navigation .nav-item .date-picker{margin-left:20px}.sm-calendar-header .header-container .header-section .view-navigation .nav-item .today-button{font-weight:lighter;margin:2px 10px 0;font-size:16px}.sm-calendar-header .header-container .header-section .view-navigation .nav-item .today-button:hover{cursor:pointer}.sm-calendar-header .header-container .header-section .view-list{margin-top:7px;float:right;margin-right:25px;display:-ms-flexbox;display:flex;background:#fff;border-radius:3px;border:1px solid #ddd}.sm-calendar-header .header-container .header-section .view-list .view-name{-ms-flex:1;flex:1;padding:8px 15px;height:18px}.sm-calendar-header .header-container .header-section .view-list .view-name:not(:last-child){border-right:1px solid #ddd}.sm-calendar-header .header-container .header-section .view-list .view-name.active{background:var(--theme-color);color:#fff}.sm-calendar-header .header-container .header-section .view-list .view-name:hover{cursor:pointer}.events-wrapper .event{background:#d7e7f0;border:1px solid #78b0cc;word-wrap:break-word;-webkit-box-sizing:border-box;box-sizing:border-box}.events-wrapper .event:hover{cursor:pointer}.view-container.day .view-wrapper .view-header,.view-container.week .view-wrapper .view-header{border-bottom:1px solid #ddd;height:var(--view-header-height);overflow-y:scroll}.view-container.day .view-wrapper .view-header .row,.view-container.week .view-wrapper .view-header .row{display:-ms-flexbox;display:flex}.view-container.day .view-wrapper .view-header .row .empty-left-scale,.view-container.week .view-wrapper .view-header .row .empty-left-scale{width:var(--left-scale-width)}.view-container.day .view-wrapper .view-header .row .item,.view-container.week .view-wrapper .view-header .row .item{-ms-flex:1;flex:1;text-align:center;font-weight:300;overflow:hidden}.view-container.day .view-wrapper .view-header .row .item.context-date .view-header-column .day-date,.view-container.week .view-wrapper .view-header .row .item.context-date .view-header-column .day-date{background:var(--theme-color);color:#fff}.view-container.day .view-wrapper .view-header .row .item.context-date .view-header-column .day-date:hover,.view-container.week .view-wrapper .view-header .row .item.context-date .view-header-column .day-date:hover{opacity:1}.view-container.day .view-wrapper .view-header .row .item.today .view-header-column,.view-container.week .view-wrapper .view-header .row .item.today .view-header-column{border-top:4px solid var(--theme-color)}.view-container.day .view-wrapper .view-header .row .item.today .view-header-column .day-date,.view-container.week .view-wrapper .view-header .row .item.today .view-header-column .day-date{margin-top:6px}.view-container.day .view-wrapper .view-header .row .item .view-header-column,.view-container.week .view-wrapper .view-header .row .item .view-header-column{border-left:1px solid #ddd;height:var(--view-header-height);-webkit-box-sizing:border-box;box-sizing:border-box}.view-container.day .view-wrapper .view-header .row .item .view-header-column .day-name,.view-container.week .view-wrapper .view-header .row .item .view-header-column .day-name{display:inline-block;font-size:15px}.view-container.day .view-wrapper .view-header .row .item .view-header-column .day-date,.view-container.week .view-wrapper .view-header .row .item .view-header-column .day-date{display:inline-block;text-align:center;padding:5px;border-radius:50%;font-weight:600;margin-top:12px;margin-right:10px}.view-container.day .view-wrapper .view-header .row .item .view-header-column .day-date:hover,.view-container.week .view-wrapper .view-header .row .item .view-header-column .day-date:hover{cursor:pointer;background:var(--theme-color);color:#fff;opacity:.4}.view-container.day .view-wrapper .view-body .view-body-relative,.view-container.week .view-wrapper .view-body .view-body-relative{position:relative;overflow:auto;height:calc(var(--component-height) - var(--header-height) - var(--view-header-height) - 10px)}.view-container.day .view-wrapper .view-body .view-body-relative .left-scale,.view-container.week .view-wrapper .view-body .view-body-relative .left-scale{width:var(--left-scale-width)}.view-container.day .view-wrapper .view-body .view-body-relative .left-scale .step-container .step,.view-container.week .view-wrapper .view-body .view-body-relative .left-scale .step-container .step{position:relative;font-size:15px}.view-container.day .view-wrapper .view-body .view-body-relative .left-scale .step-container .step:after,.view-container.week .view-wrapper .view-body .view-body-relative .left-scale .step-container .step:after{content:\" \";position:absolute;top:-1.5px;width:15px;background:#ddd;height:1px;right:0}.view-container.day .view-wrapper .view-body .view-body-relative .left-scale .step-container .step .step-time,.view-container.week .view-wrapper .view-body .view-body-relative .left-scale .step-container .step .step-time{position:absolute;right:20px;top:-9px}.view-container.day .view-wrapper .view-body .view-body-relative .drawing-area-container,.view-container.week .view-wrapper .view-body .view-body-relative .drawing-area-container{width:calc(100% - var(--left-scale-width));position:absolute;top:0;left:calc(var(--left-scale-width))}.view-container.day .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative,.view-container.week .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative{position:relative}.view-container.day .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row,.view-container.week .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row{display:-ms-flexbox;display:flex}.view-container.day .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row:not(:last-child),.view-container.week .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row:not(:last-child){border-bottom:1px solid #ddd}.view-container.day .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row .item,.view-container.week .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row .item{-ms-flex:1;flex:1;border-left:1px solid #ddd}.view-container.day .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row .item:hover,.view-container.week .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row .item:hover{cursor:crosshair}.view-container.day .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .events-wrapper .event,.view-container.week .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .events-wrapper .event{position:absolute;overflow:hidden}.view-container.day .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .events-wrapper .event .event-container,.view-container.week .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .events-wrapper .event .event-container{padding:5px}.view-container.day .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .events-wrapper .event .event-container .event-title,.view-container.week .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .events-wrapper .event .event-container .event-title{font-size:12px;font-weight:600;margin-bottom:10px}.view-container.day .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .events-wrapper .event .event-container .event-description,.view-container.week .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .events-wrapper .event .event-container .event-description{font-size:13px}.view-container.month .view-wrapper .view-header{border-bottom:1px solid #ddd;height:var(--view-header-height);overflow-y:scroll}.view-container.month .view-wrapper .view-header .row{display:-ms-flexbox;display:flex}.view-container.month .view-wrapper .view-header .row .item{-ms-flex:1;flex:1;text-align:center;font-weight:300}.view-container.month .view-wrapper .view-header .row .item:not(:first-child) .view-header-column{border-left:1px solid #ddd}.view-container.month .view-wrapper .view-header .row .item .view-header-column{height:var(--view-header-height)}.view-container.month .view-wrapper .view-header .row .item .view-header-column .day-name{display:inline-block;font-size:15px;padding-top:15px}.view-container.month .view-wrapper .view-body .view-body-relative{position:relative;overflow-y:scroll;height:calc(var(--component-height) - var(--header-height) - var(--view-header-height) - 10px)}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative{position:relative}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row{display:-ms-flexbox;display:flex;border-bottom:1px solid #ddd;-webkit-box-sizing:border-box;box-sizing:border-box}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row .item{-ms-flex:1;flex:1;overflow:hidden}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row .item:hover{cursor:crosshair}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row .item:not(:first-child) .cell-wrapper{border-left:1px solid #ddd;-webkit-box-sizing:border-box;box-sizing:border-box}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row .item .cell-wrapper .cell-header{text-align:right}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row .item .cell-wrapper .cell-header .cell-date{border-radius:50%;text-align:center;padding:5px;margin-right:5px;margin-top:5px;display:inline-block}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row .item .cell-wrapper .cell-header .cell-date:hover{cursor:pointer}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row .item.grey-out .cell-wrapper .cell-header .cell-date{color:#aaa}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .grid-wrapper .row .item.context-date .cell-wrapper .cell-header .cell-date{background:var(--theme-color);color:#fff!important}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .events-wrapper .view-more{position:absolute;font-size:12px;text-decoration:underline}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .events-wrapper .view-more:hover{cursor:pointer}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .events-wrapper .event{position:absolute;overflow:hidden}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .events-wrapper .event .event-container{padding:3px}.view-container.month .view-wrapper .view-body .view-body-relative .drawing-area-container .drawing-area-container-relative .events-wrapper .event .event-container .event-title{font-size:12px}.context-panel-container .context-panel-wrapper .context-panel-header{border-bottom:1px solid #ddd}.context-panel-container .context-panel-wrapper .context-panel-header .context-date{padding:15px 0;text-align:center;font-size:17px}.context-panel-container .context-panel-wrapper .context-panel-body .no-events{text-align:center;font-size:18px;font-weight:700;margin-top:20px;color:#aaa}.context-panel-container .context-panel-wrapper .context-panel-body .context-panel-event{width:90%;margin:10px auto;border:1px solid #ddd;border-left:3px solid #78b0cc}.context-panel-container .context-panel-wrapper .context-panel-body .context-panel-event:hover{cursor:pointer}.context-panel-container .context-panel-wrapper .context-panel-body .context-panel-event .context-panel-event-header{font-size:14px;margin:5px 10px;border-bottom:1px solid #ddd}.context-panel-container .context-panel-wrapper .context-panel-body .context-panel-event .context-panel-event-header .event-time{font-weight:600;font-size:13px;margin-bottom:5px}.context-panel-container .context-panel-wrapper .context-panel-body .context-panel-event .context-panel-event-body{margin:5px 10px}.context-panel-container .context-panel-wrapper .context-panel-body .context-panel-event .context-panel-event-body .event-title{font-size:14px}.context-panel-container .context-panel-wrapper .context-panel-body .context-panel-event .context-panel-event-body .event-description{margin-top:10px;font-size:14px}.event-edit-container{position:absolute;left:0;top:0;width:100%;height:100vh;background:rgba(0,0,0,.5)}.event-edit-container .event-edit-wrapper{background:#fff;width:450px;margin:100px auto 0;height:250px;padding:10px;border-top:5px solid #78b0cc}.event-edit-container .event-edit-wrapper .event-edit-header{font-size:18px;border-bottom:1px solid #ddd;padding:0 10px 10px 0;font-weight:200}.event-edit-container .event-edit-wrapper .event-edit-header .close{float:right}.event-edit-container .event-edit-wrapper .event-edit-header .close:hover{cursor:pointer}.event-edit-container .event-edit-wrapper .event-edit-body{margin-top:20px}.event-edit-container .event-edit-wrapper .event-edit-body .form-row{margin-top:15px}.event-edit-container .event-edit-wrapper .event-edit-body .form-row .form-label{font-size:15px}.event-edit-container .event-edit-wrapper .event-edit-body .form-row .form-element{margin-top:5px;font-size:14px}.event-edit-container .event-edit-wrapper .event-edit-body .form-row .form-element.date-time-picker{display:-ms-flexbox;display:flex}.event-edit-container .event-edit-wrapper .event-edit-body .form-row .form-element.date-time-picker .date-picker{-ms-flex:1;flex:1}.event-edit-container .event-edit-wrapper .event-edit-body .form-row .form-element.date-time-picker .date-picker sm-date-picker{display:block;width:200px}.event-edit-container .event-edit-wrapper .event-edit-body .form-row .form-element.date-time-picker .time-picker{-ms-flex:1;flex:1}.event-edit-container .event-edit-wrapper .event-edit-body .form-row .form-element.date-time-picker .time-picker sm-time-picker{display:block;width:100px}.event-edit-container .event-edit-wrapper .event-edit-footer{margin-top:20px}.event-edit-container .event-edit-wrapper .event-edit-footer button.ok-button{width:100px;float:right;margin-right:50px}:host{--theme-color:teal}.sm-calendar{font-family:Open Sans,sans-serif;border:1px solid #ddd;-webkit-box-sizing:border-box;box-sizing:border-box}.sm-calendar .clear{clear:both}"}},it="YYYY-MM-DD",at="2019-11-06";function ot(t,e,n,r,s="",i=""){return{id:Math.floor(1e8+9e8*Math.random())+"",start:n,end:r,bg_color:i,description:e,text_color:s,title:t}}const ct=class{constructor(t){e(this,t),this.weekStartDay="sun",this.events=function(t){const e=t.clone().add(1,"day").startOf("day"),n=t.clone().add(-7,"day").startOf("day"),r=t.clone().add(2,"day").startOf("day"),s=t.clone().add(7,"day").startOf("day");return[ot("event-1","sample description",t.format(it)+" 08:00:00",t.format(it)+" 10:00:00"),ot("event-2","sample description",e.format(it)+" 08:00:00",e.format(it)+" 10:00:00"),ot("multi day event-4","sample description",n.format(it)+" 08:00:00",s.format(it)+" 10:00:00","","#d2e7e3"),ot("multi day event-5","sample description",r.format(it)+" 08:00:00",s.format(it)+" 10:00:00","","#e9e1f1"),ot("multi day event-6","sample description",n.format(it)+" 08:00:00",s.format(it)+" 10:00:00","","#f3d9d2"),ot("multi day event-7","sample description",r.format(it)+" 08:00:00",s.format(it)+" 10:00:00","","#FFECB3")]}(a(at,it)),this.contextDate=at}componentDidLoad(){setTimeout(()=>{},2e3)}render(){return t("div",{class:"sm-demo-calendar"},t("sm-calendar",{events:this.events,view:"month","context-date":this.contextDate,onViewChange:()=>{},onEventClick:t=>{console.log(t.detail)},onCellClick:t=>{const e=ot("new event","sample description",t.detail.from,t.detail.to);this.events=[...this.events,e],console.log(t.detail)},onEventUpdate:t=>{const e=t.detail.event,{start:n,end:r}=t.detail.updatedValues,s=this.events;s.forEach(t=>{t.id===e.id&&(t.start=n,t.end=r)}),this.events=[...s]}}))}static get style(){return"a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,main,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}[hidden]{display:none}body{line-height:1}menu,ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:\"\";content:none}table{border-collapse:collapse;border-spacing:0}body{margin:0;padding:0}"}};export{st as sm_calendar,ct as sm_demo_calendar};